\section{Memo}\label{sec:memorandom}
\newcommand{\rmapr}{M_{\mybf{R}}\mybf{R}}
\newcommand{\nmapr}{M_{\mybf{R}}\mybf{N}}
\newcommand{\zmapr}{M_{\mybf{R}}\mybf{Z}}
\newcommand{\loner}{L\mybf{R}}
\newcommand{\intallr}[1]{\int_{{#1}\in\mybf{R}}}

\subsection{Segment approximation}
We consider the case which both source and target spaces are 1-dimension.
We denote $F$ as $F=\set{\mybf{R}\to\mybf{R}}$.

\subsection{Backup}
This section is a note for the article of the scale space theory at wikipedia
\url{http://en.wikipedia.org/wiki/Scale-space|Scale space}.

\begin{definition}[Scale space axiom]
We denote $F$ as $F=\set{\mybf{R}\to\mybf{R}}$.
The map $g\in\set{\mybf{R}\times F\to F}$ is called begin satisfied 
scale-space axiom, if $g$ is satisfied the following properties:
\begin{itemize}
\item linearlity
\begin{equation}\begin{split}
	g(t,f_1+f_2) &= g(t,f_1)+g(t,f_2) \\
	g(t,af) &= ag(t,f) \\
\end{split}\end{equation}
\item translation invariant
Let $\gamma_a$ for all $a\in\mybf{R}$ be the followings:
\begin{equation}\begin{split}
	\gamma_a: F &\to F \\
		f &\mapsto \gamma_a(f) \text{ such that } \gamma_a(f)(x) = f(x+a) \\ 
\end{split}\end{equation}
. $g$ satisfies the followings commutative diagram for all $a\in\mybf{R}$:
\begin{equation}\xymatrix{
	F \ar[r]^{\gamma_a} \ar[d]^{g} & F \ar[d]^{g} \\
	F \ar[r]^{\gamma_a} & F \\
}\end{equation}
.
\end{itemize}
\end{definition}

\subsection{Try and Error}
We denote the followings:
\begin{itemize}
\item $I_R$ as the interval $\set{x\in\mybf{R}\bou \zettai{x}< R}$,
\item $F_R$ as the set of maps $\set{I_R\to \mybf{R}}$,
\item $G$ as a Lie group on $\mybf{R}$,
\item $\beta$ as the map
\begin{equation}\begin{split}
	\beta:G\times F_R\times F_R &\to \mybf{R} \\
		(g,f_1,f_2) &\mapsto \int_{x\in g(I_R)\cap I_R} (f_1\circ g)(x)f_2(x) \\
\end{split}\end{equation}
\end{itemize}
. The map $\beta$ is quasi-symmetric $\beta(g,f_1,f_2)=\beta(g^{-1},f_2,f_1)$.
\begin{proof}
We get the following equation by changing integration variable.
\begin{equation}\begin{split}
	\beta(g,f_1,f_2) &= \int_{x\in g(I_R)\cap I_R} (f_1\circ g)(x)f_2(x) \\
		&= \int_{y\in I_R)\cap g^{-1}(I_R)} f_1(y)(f_2\circ g^{-1})(y) \\
		&= \beta(g^{-1},f_2,f_1) \\
\end{split}\end{equation}
\end{proof}
We define the map $\beta_G$ as the followings:
\begin{equation}\begin{split}
	\beta:F_R\times F_R &\to \mybf{R} \\
		(f_1,f_2) &\mapsto \int_{g\in G} \beta(g,f_1,f_2) \\
\end{split}\end{equation}
. The amp $\beta_G$ is symmetric $\beta_G(f_1,f_2)=\beta_G(f_2,f_1)$.

Let examine in the case of $G$ being the translation on $\mybf{R}$.
Let $g_a:x\mapsto x+a$. The integration region is given as the followings:
\begin{equation}\begin{split}
	g_a((I_R)\cap I_R &= \set{x\in\mybf{R}\bou \zettai{x+a}< R \text{ and } \zettai{x}< R} \\
	&= \begin{cases}
		\emptyset & \text{case } 2R\le \zettai{a} \\
		\bakko{-R, R-a} & \text{case } 0\le a\le 2R \\
		\bakko{-R-a, R} & \text{case } -2R\le a\le 0 \\
		\end{cases} \\
\end{split}\end{equation}
. Then 
\begin{equation}\begin{split}
	\beta(g_a,f_1,f_2) &= \begin{cases}
		0 & \text{case } 2R\le \zettai{a} \\
		\int_{x=-R}^{R-a}f_1(x+a)f_2(x) & \text{case } 0\le a\le 2R \\
		\int_{x=-R-a}^{R}f_1(x+a)f_2(x) & \text{case } -2R\le a\le 0 \\
		\end{cases} \\
	\beta_G(f_1,f_2) &= \kakko{\int_{a=0}^{2R}\int_{x=-R}^{R-a}+\int_{a=-2R}^{0}\int_{x=-R-a}^{R}}f_1(x+a)f_2(x) \\
	&= \int_{x=-R}^{R}\int_{a=-R-x}^{R-x}f_1(x+a)f_2(x) \\
\end{split}\end{equation}

\subsection{Backup}
Let consider the following gaussian function.
\begin{equation}\begin{split}\label{eq:f.gauss}
	\gamma(t,f,g) &= \frac{1}{\sqrt{2\pi t}}\intallr{a}\exp\kakko{-\frac{d(a, f,g)}{2t}} \\
	d(a,f,g) &= \intallr{x}\kakko{f\kakko{x+a}-g\kakko{x}}^2 \\
		&= \beta(0,f,f) + \beta(0,g,g) - 2\beta(a,f,g) \\
	\beta(a,f,g) &= \intallr{x}f(x+a)g(x) \\
\end{split}\end{equation}
Of course, the function $\gamma(t,f,g)$ is not probability density w.r.t. the variable $f$.
We shall consider the mesure in the later.
Let examine $\gamma$ for the boxcar functions.
We define the boxcar function as the followings.\footnote {
	This definition of the boxcar function may differ from the standard definition.
}
\begin{equation}\begin{split}
	h_r(x) &= \begin{cases}
		1 & \text{iff} -r\le x< r \\
		0 & \text{else} \\
		\end{cases}\\
\end{split}\end{equation}
We get the followiings for the boxcar functions $h_r$ and $h_s$.
\begin{equation}\begin{split}
	\beta(a,h_r,h_s) &= \intallr{x}(-r\le x+a< r)\text{ and }(-s\le x< s) \\
		&= \begin{cases}
			0 & \text{case } r+s\le\zettai{a} \\
			r+s-\zettai{a} & \text{case } \zettai{r-s}\le\zettai{a}\le r+s \\
			2\min(r,s) & \text{case } \zettai{a}\le\zettai{r-s} \\
		\end{cases}\\
\end{split}\end{equation}
, then
\begin{equation}\begin{split}
	d(a,h_r,h_s) &= 2(r+s) - 2\beta(a,h_r,h_s) \\
		&= \begin{cases}
			2(r+s) & \text{case } r+s\le\zettai{a} \\
			2\zettai{a} & \text{case } \zettai{r-s}\le\zettai{a}\le r+s \\
			2\zettai{r-s} & \text{case } \zettai{a}\le\zettai{r-s} \\
			\end{cases}
\end{split}\end{equation}
, then owing to symmetricity $d(a,\dots)=d(-a,\dots)$
\begin{equation}\begin{split}
	\gamma(t,h_r,h_s) 
		&= \sqrt{\frac{2}{\pi t}}\int_{a=0}^{\infty}\exp\kakko{-\frac{d(a,h_r,h_s)}{2t}} \\ 
	\sqrt{\frac{\pi t}{2}}\gamma(t,h_r,h_s) 
		&= \int_{a=0}^{\infty}\exp\kakko{-\frac{d(a,h_r,h_s)}{2t}} \\ 
		&= \int_{a=0}^{\zettai{r-s}}\exp\kakko{-\frac{\zettai{r-s}}{t}}
			+ \int_{a=\zettai{r-s}}^{r+s}\exp\kakko{-\frac{a}{t}}
			+ \int_{a=r+s}^{\Lambda} \exp\kakko{-\frac{r+s}{t}} \\
		&= \zettai{r-s}\exp\kakko{-\frac{\zettai{r-s}}{t}} \\
			&\quad + t\kakko{\exp\kakko{-\frac{\zettai{r-s}}{t}} - \exp\kakko{-\frac{r+s}{t}}} \\
			&\quad + \kakko{\Lambda - \kakko{r+s}} \exp\kakko{-\frac{r+s}{t}} \\
\end{split}\end{equation}
, where $\Lambda$ is cutoff paramter of translation group $\mybf{R}$.
This result can be summarized as the followings.
\begin{equation}\begin{split}
	\sqrt{\frac{\pi}{2}}\gamma(t,h_r,h_s) 
		&= \alpha_1(\zettai{r-s}, t) - \alpha_1(r+s, t) + \frac{\Lambda}{\sqrt{t}}\exp\kakko{-\frac{r+s}{t}} \\
	\alpha_1(x, t) &= \kakko{\frac{x}{\sqrt{t}} + \sqrt{t}}\exp\kakko{-\frac{x}{t}} \\
\end{split}\end{equation}
The variable $t$ in the formula \eqref{eq:f.gauss}  is a variance of normal
distribution. Since we do not know the apriori variance, we sum all variances
with the following formula.
\begin{equation}\begin{split}
	\varphi(s,f,g) &= \int_{t=0}^{\infty}\gamma(t,f,g)\eta(s,t) \\
	\eta(s,t) &= s\exp(-st) \\
\end{split}\end{equation}
If $\gamma(t,f,g)$ is normalized for all $t$, e.g.
\begin{equation}\begin{split}
	1 &= \int_{f\in\set{\rmapr}}\mu(f)\gamma(t,f,g) \\
\end{split}\end{equation}
, $\varphi(s,f,g)$ is also normalized.
Anyway, $\varphi(s,h_r,h_s)$ can be written as the followings.
\begin{equation}\begin{split}
	\varphi(t_0,h_r,h_s) &= \sqrt{\frac{2}{\pi}}\int_{t=0}^{t_0}f(t_0,t,h_r,h_s) \\
	f(t_0,t,h_r,h_s) &= \alpha_2(\zettai{r-s},t_0,t) - \alpha_2(r+s,t_0,t) + \frac{\Lambda}{\sqrt{t}}\exp\kakko{-\kakko{\frac{r+s}{t}+t_0t}} \\
	\alpha_2(x,s,t) &= \kakko{\frac{x}{\sqrt{t}} + \sqrt{t}}\exp\kakko{-\kakko{\frac{x}{t}+st}} \\
\end{split}\end{equation}
\begin{todo}[symmetry]
The function $\alpha_2$ in the above formula is seemed to have symmetry w.r.t.
$x$ and $t$ when $s=1$. Check it.
\end{todo}

\subsection{Convolution}
We use the standard notation to represent the image of map. 
For example we denote $g(x)f(x)$ instead of $*(f,g)(x,x)$.

Let $\rmapr$ be the set of all maps from $\mybf{R}$ to $\mybf{R}$.
We can define the structure of ring on $\rmapr$ from the target space 
ring structure $(\mybf{R},+,0,*,1)$.
\begin{equation}\begin{split}
	(f+g)x &= f(x)+g(x) \\
	(f*g)x &= f(x)*g(x) \\
\end{split}\end{equation}
We denote $\loner\subset\rmapr$ as the space of the followings:
\begin{equation}\begin{split}
	\loner &= \set{f\in\rmapr\bou \int_{x\in\mybf{R}}\zettai{f(x)} < \infty}
\end{split}\end{equation}
. The $\loner$ is closed under $+$ and $*$.
\begin{equation}\begin{split}
	\intallr{x}(f+g)(x) &= \kakko{\intallr{x}f(x)}+ \kakko{\intallr{x}g(x)} \\
		&\le \kakko{\intallr{x}\zettai{f(x)}}+ \kakko{\intallr{x}\zettai{g(x)}} \\
		& < \infty \\
	\intallr{x}(f*g)x &= \kakko{\intallr{x}f(x)g(x)} \\
		&\le \kakko{\intallr{x}\zettai{f(x)}}* \kakko{\intallr{x}\zettai{g(x)}} \\
		& < \infty \\
\end{split}\end{equation}
Where we use the following inequality to derive the second inequality.
\begin{equation}\begin{split}
	(a*b)+(c*d) 
		&\le \zettai{a*b}+\zettai{c*d} \\
		&\le \kakko{\zettai{a}+\zettai{c}}*\kakko{\zettai{b}+\zettai{d}} \\
		&\text{for all }a,b,c,d\in\mybf{R} \\
\end{split}\end{equation}
Note that all non-zero constant maps are not elements of $\loner$,
especially $1\not\in\loner$. 
Therefore, $*$ dose not have identity $1$ in the $\loner$.
The lack of identity is owing to non-compactness of base manifold.
If we consider the space $\loner_\Lambda$:
\begin{equation}\begin{split}
	\loner_\Lambda = \set{f\in\loner\bou f(x)=0 \text{ for all }\Lambda<\zettai{x}}
\end{split}\end{equation}
. All constant maps $\set{c*h(\Lambda,x)}_{c\in\myop{R}}$ are elements of 
$\loner_\Lambda$, and $h(\Lambda,x)$ is an identity of $*$.
Where $h$ is the boxcar function:
\begin{equation}\begin{split}\label{eq:boxcar}
	h: \myop{R}\times\myop{R} &\to \myop{R} \\
	(r, x) &\mapsto \begin{cases}
		1 & \text{iff }-r\le x<r \\
		0 & \text{otherwise} \\
		\end{cases} \\
\end{split}\end{equation}
. 
This definition of the boxcar function may differ from the standard definition.

We define another multiplication beside $*$.
\begin{definition}[Convolution]
We define the map $\sqcap$ as the followings:
\begin{equation}\begin{split}
	\sqcap: \rmapr\times\rmapr &\to \rmapr \\
	(f,g) &\mapsto (f\sqcap g) \text{ such that} \\
	& (f\sqcap g)(x) = \int_{y\in\mybf{R}}f(x-y)g(y) \\
\end{split}\end{equation}
. The map $\sqcap$ is called convolution.
\end{definition}
The convolution satisfies the folllowing properties:
\begin{itemize}
\item distritutive $f\sqcap(g+ h) = (f\sqcap g)+ (f\sqcap h)$
\item associative $(f\sqcap g)\sqcap h = f\sqcap(g\sqcap h)$
	\begin{proof}
		by changing variable of integration.
		\begin{equation*}\begin{split}
			\intallr{z}\kakko{f\sqcap g}\kakko{x-z}*\kakko{hz}
				&= \intallr{y}\intallr{z}f(x-y-z)*g(y)*h(z) \\
				&= \intallr{y}\intallr{z}f(x-y)*g(y-z)*h(z) \\
				&= \intallr{y}f(x-y)*(g\sqcap h)(y) \\
		\end{split}\end{equation*}
	\end{proof}
\item commutative $f\sqcap g = g\sqcap f$
	\begin{proof}
		by changing variable of integration.
		\begin{equation*}\begin{split}
			\intallr{y}f(x-y)*g(y) &= \intallr{y}f(y)*g(x-y) \\
		\end{split}\end{equation*}
	\end{proof}
\end{itemize}
.
The $\loner$ is closed also under $\sqcap$, and $\sqcap$ also dose not
have identity in the $\loner$.

Let examine $\sqcap$ for boxcar functions\eqref{eq:boxcar}.
\begin{equation}\begin{split}
	\kakko{h_{r_1}\sqcap h_{r_2}}x 
		&= \intallr{y}h_{r_1}(x-y)*h_{r_2}(y) \\
		&= \intallr{y}\kakko{-r_1+x\le y\le r_1+x}\text{ and }\kakko{-r_2\le y\le r_2} \\
\end{split}\end{equation}
The integration is given by the intersection of the ranges
$-r_1.x\le r_1+x$ and $-r_2\le r_2$, the intersection is given by the
shuffle product of these ranges.
\begin{equation}\begin{split}
	&\intallr{y}\kakko{-r_1+x\le y\le r_1+x}\text{ and }\kakko{-r_2\le y\le r_2} \\
	&=\begin{cases}
		-r_1+x\le r_1+x\le -r_2\le r_2 &\implies 0 \\
		-r_2\le r_2\le -r_1+x\le r_1+x &\implies 0 \\
		-r_1+x\le -r_2\le r_1+x\le r_2 &\implies r_1+r_2+x \\
		-r_2\le -r_1+x\le r_2\le r_1+x &\implies r_1+r_2-x \\
		-r_1+x\le -r_2\le r_2\le r_1+x &\implies 2*r_2 \\
		-r_2\le -r_1+x\le r_1+x\le r_2 &\implies 2*r_1 \\
		\end{cases} \\
	&=\begin{cases}
		r_1+r_2 \le  \zettai{x} &\implies 0 \\
		\zettai{r_1-r_2} \le \zettai{x} \le r_1+r_2 &\implies r_1+r_2-x \\
		\zettai{x} \le  \zettai{r_1-r_2} &\implies 2*\min(r_1,r_2) \\
		\end{cases} \\
\end{split}\end{equation}
Finally, we get the followings:
\begin{equation}\begin{split}
	\kakko{h_{r_1}\sqcap h_{r_2}}x 
		&=\begin{cases}
			0 & \text{case } r_1+r_2 \le \zettai{x} \\
			r_1+r_2-x & \text{case } \zettai{r_1-r_2} \le \zettai{x} \le r_1+r_2 \\
			2*\min(r_1,r_2) & \text{case } \zettai{x} \le  \zettai{r_1-r_2} \\
			\end{cases} \\
\end{split}\end{equation}
. 

\begin{observe}[Quantom deformation]
Let be $\mu$ a gaussin function:
\begin{equation}\begin{split}
	\mu:\mybf{R}\times\mybf{R} &\to \mybf{R} \\
		(t,x) &\mapsto \kakko{\frac{1}{2 \pi t}}^{\frac{1}{2}}\exp\kakko{-\frac{x^2}{2t}} \\
\end{split}\end{equation}
. We define the multiplication $\sqcap_t$ as the followings:
\begin{equation}\begin{split}\label{eq:t.conv}
	\sqcap_t: \rmapr\times\rmapr &\to \rmapr \\
	(f,g) &\mapsto (f\sqcap_t g) \text{ such that} \\
	& (f\sqcap_tg)(x) = \int_{y\in\mybf{R}}\mu(t,y)*f(x-y)*g(y) \\
\end{split}\end{equation}
. The multiplication $\sqcap$ is connected by $\sqcap_t$:
\begin{equation}\begin{split}\label{eq:conv.deform}
	f\sqcap g &= \lim_{t\to\infty}(f\sqcap_tg) \\
\end{split}\end{equation}
.
\begin{itemize}
\item Are \eqref{eq:conv.deform} true?
\item Dose \eqref{eq:t.conv} satisfies the leibnitz rule for differential?
\begin{equation}\begin{split}
	d(f\sqcap_tg) &= \kakko{\kakko{df}\sqcap_tg}+\kakko{f\sqcap_t\kakko{dg}}
\end{split}\end{equation}
\item Can we calculate \eqref{eq:t.conv} for general $t$?
\item Can we generalize \eqref{eq:t.conv} to gauge theory?
\end{itemize}
\end{observe}

\subsection{Order and Word}\label{sub:forget}
\begin{itemize}
	\item Consider the map $\myop{ord}$
	\begin{equation}\begin{split}
		\myop{ord}: F\mybf{Z} &\to \mybf{B} \\
		\bakko{a_1a_2\cdots a_n} &\mapsto a_1\le a_2\le\cdots\le a_n \text{ for all }2\le n \\
	\end{split}\end{equation}
	Where $\mybf{B}$ is a boolean $\set{0,1}$.
	\item $\myop{ord}$ is not homeo with word concatenation, because 
	$\myop{ord}\bakko{abcd}$ cannot be written with the combination of 
	$\myop{ord}\bakko{ab}$ and $\myop{ord}\bakko{cd}$.
	\item looking for multiplication which $\myop{ord}$ is homeo with.
	\item We know the shuffle product $\sqcup$.\footnote{
		We couldnt find suitable symbol for the shuffle product.
	}
	Let $F_{\mybf{B}}\mybf{Z}$ be a free-semimodule $\set{F\mybf{Z}\to\mybf{B}}$.
	We denote $+$ for locgical 'or', empty word for logical 'and'.
	We define $\myop{ord}$ to satisfy homeo with $+$.
	\begin{equation}\begin{split}
		\myop{ord}(w_1+w_2) &= (\myop{ord}w_1)+(\myop{ord}w_2) \text{ for all }w_1,w_2\in F\mybf{Z} \\
	\end{split}\end{equation}
	The condition homeo with $+$ implies $\myop{ord}0=0$.
	We can show the following equation by explicit calculation:
	\begin{equation}\begin{split}
		\myop{ord}(\bakko{ab}\sqcup\bakko{cd}) 
			&= (\myop{ord}\bakko{ab})\wedge(\myop{ord}\bakko{cd}) \text{ for all }a,b,c,d\in \mybf{Z} \\
	\end{split}\end{equation}
	. We can show the following equation:
	\begin{equation}\begin{split}
		\myop{ord}(w_1\sqcup w_2) &= (\myop{ord}w_1)\wedge(\myop{ord}w_2) \\
			& \text{ for all }w_1,w_2\in \mybf{Z}\text{ and }\zettai{w_1}\not=1 \text{ and }\zettai{w_2}\not=1 \\
	\end{split}\end{equation}
	. 
	The condition homeo with $\sqcup$ and $\wedge $implies $\myop{ord}\bakko{}=1$.
	And also implies the followings:
	\begin{equation}\begin{split}
		1 = \myop{ord}\sqcup(\bakko{a},\bakko{b}) 
			= (\myop{ord}\bakko{a}) \wedge (\myop{ord}\bakko{a})
	\end{split}\end{equation}
	. $\myop{ord}\bakko{a}=1$ is sufficient condition for $\myop{ord}$ being
	homeo, though we dont know whether this condition is nessary condition.
	\item We conclude that the map $\myop{ord}$ satisfies the following 
	commutative diagram:
	\begin{equation}\xymatrix@C+24pt{
		F_{\mybf{B}}\mybf{Z}\otimes F_{\mybf{B}}\mybf{Z} \ar[r]^{\myop{ord}\times\myop{ord}} \ar[d]^{\square_F}
		& \mybf{B}\otimes \mybf{B} \ar[d]^{\square}
		\\
		F_{\mybf{B}}\mybf{Z} \ar[r]^{\myop{ord}}
		& \mybf{B} 
		\\
	}\end{equation}
	. Where $\square_F=+/\sqcup$ and $\square=+/\wedge$
\end{itemize}

\begin{todo}[decomposition]
We need decompose a word to enumerate ordering condition.
For example, we would like deform like that:
\begin{equation}\begin{split}
	\myop{ord}\bakko{abc} 
		&= \wedge(\myop{ord}, \myop{ord})(\bakko{ab}, \bakko{bc}) \\
		&= \myop{ord}\sqcup(\bakko{ab}, \bakko{bc}) \\
\end{split}\end{equation}
How to justify with associative or co-associative operations?
\end{todo}
